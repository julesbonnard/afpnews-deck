(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"2bee":function(e,t,a){"use strict";a("fb3a")},"50a3":function(e,t,a){"use strict";a("afa2")},"714b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.close,expression:"close"}],staticClass:"modal-container"},[a("div",{staticClass:"actions"},[e._t("actions")],2),a("div",{staticClass:"modal-header"},[e._t("header")],2),a("div",{staticClass:"modal-body"},[e._t("body")],2),a("div",{staticClass:"modal-footer"},[e._t("footer")],2)])])])])},r=[],s=a("2b0e"),o=a("c7db"),i=s["default"].extend({name:"Modal",mixins:[o["mixin"]],methods:{close:function(){this.$emit("close")}}}),u=i,c=(a("50a3"),a("2877")),l=Object(c["a"])(u,n,r,!1,null,"0daffdc0",null);t["a"]=l.exports},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{on:{close:e.close},scopedSlots:e._u([{key:"actions",fn:function(){return[a("button",{staticClass:"btn btn-icon close",attrs:{"aria-label":"Close"},on:{click:e.close}},[a("i",{staticClass:"UI-icon UI-close-alt icon-small"})])]},proxy:!0},{key:"header",fn:function(){return[e.isAuthenticated?a("h1",[e._v(" "+e._s(e.$t("auth.success.title"))+" ")]):a("h1",[e._v(" "+e._s(e.$t("auth.not-authenticated.title"))+" ")])]},proxy:!0},{key:"body",fn:function(){return[a("form",{class:{danger:e.authError},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.login(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}},{name:"uppercase",rawName:"v-uppercase"}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"username",placeholder:e.$t("auth.username"),"aria-label":e.$t("auth.username"),type:"text",name:"username",autocomplete:"username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"password",placeholder:e.$t("auth.password"),"aria-label":e.$t("auth.password"),type:"password",name:"password",autocomplete:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("button",{staticClass:"btn btn-large",attrs:{"aria-label":"Submit",type:"submit"}},[e._v(" "+e._s(e.$t("submit"))+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[a("p",[e._v(e._s(e.$t("auth.cookies")))])]},proxy:!0}])})},r=[],s=(a("caad"),a("d3b7"),a("25f0"),a("2532"),a("96cf"),a("1da1")),o=a("5530"),i=a("2b0e"),u=a("714b"),c=a("2f62"),l=i["default"].extend({name:"Login",metaInfo:{title:"Login"},components:{Modal:u["a"]},data:function(){return{username:"",password:"",authError:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["f"])(["credentials"])),Object(c["d"])(["isAuthenticated"])),directives:{uppercase:{update:function(e){e.value=e.value.toUpperCase()}}},methods:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["authenticate"])),{},{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.username.includes("@afp.com")){t.next=4;break}return e.$toasted.show(e.$t("auth.warning-email").toString(),{position:"bottom-center",duration:1500,type:"error"}),e.authError=!0,t.abrupt("return",!1);case 4:return t.prev=4,t.next=7,e.authenticate({username:e.username,password:e.password});case 7:e.$toasted.show(e.$t("auth.success.title").toString(),{position:"bottom-center",duration:1500,type:"success"}),e.authError=!1,e.$ga.enable(),a=e.$route.query.redirect,a?Array.isArray(a)?(n=a[0],n&&e.$router.push({path:n})):e.$router.push({path:a}):e.$router.push({name:"deck"}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.authError=!0;case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},close:function(){this.$ga.enable(),this.$router.push({name:"deck"})}})}),d=l,p=(a("2bee"),a("2877")),m=Object(p["a"])(d,n,r,!1,null,"2fee9eae",null);t["default"]=m.exports},afa2:function(e,t,a){},c7db:function(e,t,a){"use strict";var n=a("2b0e");n="default"in n?n["default"]:n;var r="2.2.2",s=/^2\./.test(n.version);s||n.util.warn("VueClickaway "+r+" only supports Vue 2.x, and does not support Vue "+n.version);var o="_vue_clickaway_handler";function i(e,t,a){u(e);var n=a.context,r=t.value;if("function"===typeof r){var s=!1;setTimeout((function(){s=!0}),0),e[o]=function(t){var a=t.path||(t.composedPath?t.composedPath():void 0);if(s&&(a?a.indexOf(e)<0:!e.contains(t.target)))return r.call(n,t)},document.documentElement.addEventListener("click",e[o],!1)}}function u(e){document.documentElement.removeEventListener("click",e[o],!1),delete e[o]}var c={bind:i,update:function(e,t){t.value!==t.oldValue&&i(e,t)},unbind:u},l={directives:{onClickaway:c}};t.version=r,t.directive=c,t.mixin=l},fb3a:function(e,t,a){}}]);
//# sourceMappingURL=login-legacy.1ecd07d8.js.map